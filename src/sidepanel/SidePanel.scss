@import url('https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500&display=swap');

:root {
   --primary-color: #a394ff;
   --secondary-color: #d0d0d0;
   --text-color: #333;
   --background-color: #28243d;
   --input-background-color: #35314d;
   --border-color: #55516b;
   --disabled-color: #999999;
   --disabled-background-color: #eee;
   --font-family: 'Roboto', sans-serif;
   --border-radius: 0.25rem;
   --transition-duration: 0.3s;
   --text-color-light: #c0c0c0;
}

/* --- Base Styles --- */

@media (prefers-color-scheme: light) {
   a:hover {
      color: var(--primary-color);
   }
}

body {
   min-width: 20rem;
   height: 100vh;
   font-family: var(--font-family);
   /* background-color: var(--background-color); */
}

main {
   text-align: center;
   padding: 1rem;
   margin: 0 auto;
}

h2 {
   color: var(--primary-color);
   text-transform: uppercase;
   font-size: 1.5rem;
   font-weight: 200;
   line-height: 1.2rem;
   margin: 2rem auto;
}

a {
   font-size: 0.5rem;
   margin: 0.5rem;
   color: var(--text-color-light);
   text-decoration: none;
}

#app {
   min-height: 100vh;
   scrollbar-width: none;

   &::-webkit-scrollbar {
      display: none;
   }
}

.custom-popup-swal {
   font-size: unset;
}

/* --- Reusable Components --- */

.button {
   font-size: 1rem;
   padding: 0.75rem 1.25rem;
   border: 0.0625rem solid var(--primary-color);
   border-radius: var(--border-radius);
   background-color: transparent;
   color: var(--primary-color);
   cursor: pointer;
   outline: none;
   width: 100%;
   max-width: 20rem;
   margin: 0 auto;
   display: flex;
   justify-content: center;
   align-items: center;
   transition:
      background-color var(--transition-duration),
      color var(--transition-duration),
      border-color var(--transition-duration);

   &:hover {
      background-color: var(--primary-color);
      color: #fff;
   }

   /* Modifier for disabled state */
   &--disabled,
   &:disabled {
      background-color: var(--disabled-background-color);
      color: var(--disabled-color);
      cursor: not-allowed;
      border-color: var(--border-color);

      &:hover {
         background-color: var(--disabled-background-color);
         color: var(--disabled-color);
      }
   }

   &>svg {
      margin-left: 0.75rem;
   }
}

.icon-button {
   background-color: transparent;
   color: var(--primary-color);
   border: none;
   cursor: pointer;
   font-size: 1.2rem;
   margin-left: 0.5rem;
   padding: 0;
   line-height: 1;
   transition: color var(--transition-duration);

   &:hover {
      filter: brightness(0.85);
   }

   /* Modifier for disabled state */
   &--disabled,
   &:disabled {
      color: var(--disabled-color);
      cursor: not-allowed;

      &:hover {
         color: var(--disabled-color);
         filter: none;
      }
   }
}

.spinner {
   animation: spin 1s linear infinite;
}

@keyframes spin {
   from {
      transform: rotate(0deg);
   }

   to {
      transform: rotate(360deg);
   }
}

.separator {
   margin: 0.75rem 0;
   border: none;
   height: 0.0625rem;
   background-color: var(--border-color);
}


/* --- Side Panel Specific Styles --- */

.side-panel {
   text-align: center;
   padding: 1rem;
   margin: 0 auto;
   /* background-color: var(--background-color); */
   /* color: var(--text-color-light); */

   .panel-title {
      color: var(--primary-color);
      text-transform: uppercase;
      font-size: 1.2rem;
      font-weight: 500;
      margin: 1rem auto;
   }

   /* --- Input Area --- */
   .panel-input {
      display: flex;
      flex-direction: column;
      margin-bottom: 1rem;
      padding: 0 1rem;

      &__label {
         margin-bottom: 0.5rem;
         font-size: 1rem;
         color: var(--text-color-light);
         display: flex;
         align-items: center;
         justify-content: space-between;
      }

      &__actions {
         display: flex;
         align-items: center;
      }

      &__textarea {
         border: 0.0625rem solid var(--border-color);
         border-radius: var(--border-radius);
         padding: 0.75rem;
         font-size: 1rem;
         resize: vertical;
         min-height: 8rem;
         background-color: #fff;
         color: var(--text-color);
         flex: 1;
         overflow: auto;
         font-family: var(--font-family);

         &:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0.3rem rgba(var(--primary-color), 0.3);
         }

         &.disabled {
            background-color: var(--disabled-background-color);
            color: var(--disabled-color);
            cursor: not-allowed;
         }
      }
   }

   /* --- Button Area --- */
   .panel-buttons {
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      margin: 1rem;
      gap: 0.75rem;

      /* Specific group for Start + API toggle */
      .start-group {
         display: flex;
         width: 100%;
         max-width: 20rem;
         align-items: center;
         justify-content: space-between;

         .button {
            flex-grow: 1;
            margin-right: 10px;
         }
      }

      .api-toggle {
         display: flex;
         text-align: center;
         align-items: center;
         justify-content: center;
         white-space: nowrap;
         color: var(--text-color-light);
         font-size: 0.9rem;

         input[type="checkbox"] {
            margin-right: 0.4rem;
            cursor: pointer;

            &:disabled {
               cursor: not-allowed;
            }
         }
      }

      .auto-crawl-loading {
         display: flex;
         align-items: center;
         justify-content: center;
         margin-top: 5px;
         font-style: italic;
         font-size: 0.9rem;
         color: var(--text-color-light);

         .spinner {
            margin-left: 5px;
            font-size: 0.9rem;
         }
      }
   }


   /* --- Progress Area --- */
   .panel-progress {
      margin-top: 1rem;
      padding: 0 1rem;
      display: flex;
      flex-direction: column;
      align-items: center;

      &__label {
         display: block;
         margin-bottom: 0.5rem;
         font-size: 1rem;
         color: var(--text-color-light);
         text-align: center;
      }

      &__bar {
         width: 100%;
         max-width: 20rem;
         height: 0.75rem;
         -webkit-appearance: none;
         appearance: none;
         border-radius: 0.375rem;
         overflow: hidden;
         background-color: var(--border-color);

         &::-webkit-progress-bar {
            background-color: var(--border-color);
            border-radius: 0.375rem;
         }

         &::-webkit-progress-value {
            background-color: var(--primary-color);
            border-radius: 0.375rem;
            transition: width 0.2s ease-in-out;
         }

         &::-moz-progress-bar {
            background-color: var(--primary-color);
            border-radius: 0.375rem;
            transition: width 0.2s ease-in-out;
         }
      }

      &__percentage {
         text-align: center;
         margin-top: 0.5rem;
         font-size: 0.9rem;
         color: var(--text-color-light);
      }
   }


   /* --- Status Info --- */
   .panel-status {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin-top: 0.75rem;
      font-size: 0.9rem;
      color: var(--text-color-light);
      gap: 0.25rem;

      &>span {
         display: block;
         text-align: center;
      }
   }


   /* --- Not Found Area --- */
   .panel-not-found {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 1rem;
      margin-top: 1rem;

      &__title {
         margin-top: 0;
         color: var(--text-color-light);
         font-size: 1.1rem;
         margin-bottom: 1rem;
         font-weight: 500;
      }

      &__list {
         list-style: none;
         padding: 0;
         margin: 0;
         width: 100%;
         max-width: 20rem;
         text-align: left;
         color: var(--text-color-light);
         font-size: 0.9rem;
         max-height: 10rem;
         overflow-y: auto;
         border: 1px solid var(--border-color);
         border-radius: var(--border-radius);
         padding: 0.5rem;
         background-color: var(--input-background-color);

         li {
            padding: 0.2rem 0.5rem;
            border-bottom: 1px solid var(--border-color);

            &:last-child {
               border-bottom: none;
            }
         }
      }
   }
}
